{
    "database": "NBS",
    "department": 4,
    "division": 7,
    "dms_seller_id": "17",
    "exec_sync": "false",
    "host": "db-nbs.intranet.local",
    "order_client_only": true,
    "password": "new",
    "pgto_id": 130,
    "port": "1521",
    "product_quantity": [
    ],
    "query_bloqued": "SELECT RTRIM(LTRIM(productId)) as productId, RTRIM(LTRIM(mpn)) AS mpn, brand, name, category, gtin, stock as stock, blockedGarageStock, securityGarageStock, purchasePrice, sellPrice, sellPrice as listPrice, 31 as companyId, 232 as sellerId, ''  as companyProductId, '' as corporationProductOfferId, '' slug FROM nbs.vw_product_sync WHERE securityGarageStock <> 0 AND COD_EMPRESA = 17 AND COD_FORNECEDOR IN (11, 1)",
    "query_complete": "SELECT RTRIM(LTRIM(productId)) as productId, RTRIM(LTRIM(mpn)) AS mpn, brand, name, category, gtin, stock as stock, blockedGarageStock, securityGarageStock, purchasePrice, sellPrice, sellPrice as listPrice, 31 as companyId, 232 as sellerId, ''  as companyProductId, '' as corporationProductOfferId, '' slug FROM nbs.vw_product_sync WHERE stock <> 0 AND COD_EMPRESA = 17 AND COD_FORNECEDOR IN (11, 1)",
    "query_daily": "SELECT RTRIM(LTRIM(productId)) as productId, RTRIM(LTRIM(mpn)) AS mpn, brand, name, category, '' as gtin, stock as stock, blockedGarageStock, securityGarageStock, purchasePrice, sellPrice, sellPrice as listPrice, 31 as companyId, 232 as sellerId, '' as companyProductId, '' as corporationProductOfferId, '' slug FROM nbs.vw_product_sync WHERE TO_DATE(UpdatedAt) >= TO_DATE(SYSDATE-3) AND COD_EMPRESA = 17 AND COD_FORNECEDOR IN (11, 1)",
    "query_partial": "SELECT RTRIM(LTRIM(productId)) as productId, RTRIM(LTRIM(mpn)) AS mpn, brand, name, category, '' as gtin, stock as stock, blockedGarageStock, securityGarageStock, purchasePrice, sellPrice, sellPrice as listPrice, 31 as companyId, 232 as sellerId, '' as companyProductId, '' as corporationProductOfferId, '' slug FROM nbs.vw_product_sync WHERE updatedAt BETWEEN (sysdate - (10/24/60)) AND SYSDATE AND COD_EMPRESA = 17 AND COD_FORNECEDOR IN (11, 1)",
    "salesman": "PCANAELY",
    "sector": 8,
    "seller_id": "232",
    "seller_name": "TONIELLO - ORTOVEL FORD RIBEIRÃO(NOVA)",
    "user": "nbs",
    "use_module_parts": true,
    "view_code": "CREATE VIEW vw_product_sync AS\nWITH CARDEX_SALDO(COD_ITEM, COD_FORNECEDOR, COD_EMPRESA, DATA)\nAS\n(\n  SELECT\n  CARDEX_CONTABIL.COD_ITEM,\n  CARDEX_CONTABIL.COD_FORNECEDOR,\n  CARDEX_CONTABIL.COD_EMPRESA,\n  MAX(DATA) AS DATA\n  FROM CARDEX_CONTABIL\n  WHERE CARDEX_CONTABIL.STATUS = 'A'\n  GROUP BY\n  CARDEX_CONTABIL.COD_ITEM,\n  CARDEX_CONTABIL.COD_FORNECEDOR,\n  CARDEX_CONTABIL.COD_EMPRESA\n),\nREQUISICOES(COD_ITEM, COD_FORNECEDOR, COD_EMPRESA, QTDE_OFICINA)\nAS\n(\n  SELECT OS_REQUISICOES.COD_ITEM,\n  OS_REQUISICOES.COD_FORNECEDOR,\n  OS_REQUISICOES.COD_EMPRESA,\n  SUM(OS_REQUISICOES.QUANTIDADE)\n  FROM OS_REQUISICOES\n  INNER JOIN OS ON OS.COD_EMPRESA = OS_REQUISICOES.COD_EMPRESA\n    AND OS.NUMERO_OS = OS_REQUISICOES.NUMERO_OS\n  WHERE\n  (\n    (OS.STATUS_OS = '0') OR\n    ((OS.STATUS_OS = '1') AND (OS.DATA_ENCERRADA > TO_DATE(SYSDATE, 'DD/MM/YYYY')))\n  )\n  AND OS_REQUISICOES.DATA <= TO_DATE(SYSDATE, 'DD/MM/YYYY')\n  GROUP BY\n  OS_REQUISICOES.COD_ITEM,\n  OS_REQUISICOES.COD_FORNECEDOR,\n  OS_REQUISICOES.COD_EMPRESA\n)\nSELECT\nITENS.COD_ITEM productId, \n  CARDEX_SALDO.COD_EMPRESA,\n  CARDEX_SALDO.COD_FORNECEDOR,\n  ITENS.DESCRICAO name,\n  COALESCE(ITENS.PART_NUMBER,ITENS.COD_ITEM) as mpn,\n  FORNECEDOR_ESTOQUE.NOME_FORNECEDOR as brand,\n  ITENS.COD_GTIN AS gtin,\n  (COALESCE(cardex_contabil.qtde_saldo_estoque,0) - COALESCE(ESTOQUE.RESERVADO, 0)) as stock,\n  COALESCE(ESTOQUE.RESERVADO, 0) as securityGarageStock,\n  COALESCE(REQUISICOES.QTDE_OFICINA,0) AS blockedGarageStock,\n  COALESCE(CARDEX_CONTABIL.CUSTO_RESULTANTE,0) purchasePrice,\n  COALESCE(ITENS_CUSTOS.PRECO_VENDA,0) as sellPrice,\n  COALESCE(ITENS_CUSTOS.PRECO_MINIMO,ITENS_CUSTOS.PRECO_VENDA) as listPrice,\n  GREATEST(\n\t\tCOALESCE(CARDEX_CONTABIL.DATA, TO_DATE('2021-01-01 00:00:00', 'YYYY-MM-DD HH24:MI:SS')), \n\t\tCOALESCE(CARDEX_CONTABIL.DATA_CREATED, TO_DATE('2021-01-01 00:00:00', 'YYYY-MM-DD HH24:MI:SS')), \n\t\tCOALESCE(ESTOQUE.UPDATED_AT,TO_DATE('2021-01-01 00:00:00', 'YYYY-MM-DD HH24:MI:SS'))\n\t) as updatedAt,\n  CASE\n     WHEN ITENS_GRUPO_INTERNO.DESCRICAO LIKE '%Pecas%' THEN 'PEÇAS'\n     WHEN ITENS_GRUPO_INTERNO.DESCRICAO LIKE '%Acessorio%' THEN 'ACESSÓRIOS'\n     WHEN ITENS_GRUPO_INTERNO.DESCRICAO LIKE '%Lubrificantes%' THEN 'LUBRIFICANTES'\n     WHEN ITENS_GRUPO_INTERNO.DESCRICAO LIKE '%Pneus%' THEN 'PNEUS'\n     ELSE ITENS_GRUPO_INTERNO.DESCRICAO\n     END tipo_estoque,\n SUBSTR(\n    ITENS_CLASSE_CONTABIL.DESCRICAO,\n    INSTR(ITENS_CLASSE_CONTABIL.DESCRICAO,'_')+1,\n    LENGTH(ITENS_CLASSE_CONTABIL.DESCRICAO)\n    ) as category\nFROM  CARDEX_SALDO\nINNER JOIN ITENS ON CARDEX_SALDO.COD_ITEM = ITENS.COD_ITEM\nINNER JOIN ITENS_CUSTOS ON ITENS_CUSTOS.COD_ITEM = CARDEX_SALDO.COD_ITEM\n  AND ITENS_CUSTOS.COD_EMPRESA = CARDEX_SALDO.COD_EMPRESA\n  AND ITENS_CUSTOS.COD_FORNECEDOR = CARDEX_SALDO.COD_FORNECEDOR\nINNER JOIN FORNECEDOR_ESTOQUE ON FORNECEDOR_ESTOQUE.COD_FORNECEDOR = CARDEX_SALDO.COD_FORNECEDOR\nINNER JOIN CARDEX_CONTABIL ON CARDEX_CONTABIL.DATA = CARDEX_SALDO.DATA\n\tAND CARDEX_CONTABIL.COD_ITEM = CARDEX_SALDO.COD_ITEM\nLEFT JOIN ESTOQUE ON CARDEX_SALDO.COD_ITEM = ESTOQUE.COD_ITEM\n\tAND CARDEX_SALDO.COD_FORNECEDOR = ESTOQUE.COD_FORNECEDOR\n\tAND CARDEX_SALDO.COD_EMPRESA = ESTOQUE.COD_EMPRESA\nLEFT JOIN REQUISICOES ON REQUISICOES.COD_ITEM = CARDEX_SALDO.COD_ITEM\n\tAND REQUISICOES.COD_FORNECEDOR = CARDEX_SALDO.COD_FORNECEDOR\n\tAND REQUISICOES.COD_EMPRESA = CARDEX_SALDO.COD_EMPRESA\nINNER JOIN ITENS_GRUPO_INTERNO ON ITENS_GRUPO_INTERNO.COD_GRUPO_INTERNO = ITENS.COD_GRUPO_INTERNO\nINNER JOIN ITENS_CLASSE_CONTABIL ON ITENS_CLASSE_CONTABIL.COD_CLASSE_CONTABIL = ITENS.COD_CLASSE_CONTABIL\nWHERE\nITENS.STATUS = 'A'\nAND ITENS_GRUPO_INTERNO.COD_GRUPO_INTERNO  IN (3, 4, 5, 8, 12, 15, 13, 19, 28, 31, 10, 17, 18)\nAND CARDEX_SALDO.COD_EMPRESA IN (2, 11, 30, 1)\nand CARDEX_SALDO.COD_FORNECEDOR IN (1,2,5,6)"
   }